(function(n){var i="GCJ02",t={id:"Terratype.GoogleMapsV3",originalConsole:n.console,domain:null,version:null,apiKey:null,coordinateSystem:null,forceHttps:!1,language:null,subsystemUninitiated:0,subsystemInit:1,subsystemReadGoogleJs:2,subsystemCheckGoogleJs:3,subsystemLoadedGoogleJs:4,subsystemCooloff:5,subsystemCompleted:6,status:0,killswitch:!1,poll:100,timeout:15e3,fakeConsole:{isFake:!0,error:function(i){if((i.indexOf("Google Maps API")!=-1||i.indexOf("Google Maps Javascript API")!=-1)&&(i.indexOf("MissingKeyMapError")!=-1||i.indexOf("ApiNotActivatedMapError")!=-1||i.indexOf("InvalidKeyMapError")!=-1||i.indexOf("not authorized")!=-1||i.indexOf("RefererNotAllowedMapError")!=-1)){n.terratype.event.broadcast(t.id+".error");t.destroySubsystem();return}try{t.originalConsole.warn(i)}catch(r){}},warn:function(n){try{t.originalConsole.warn(n)}catch(i){}},log:function(n){try{t.originalConsole.log(n)}catch(i){}}},installFakeConsole:function(){typeof n.console.isFake=="undefined"&&(n.console=t.fakeConsole)},uninstallFakeConsole:function(){n.console=t.originalConsole},isGoogleMapsLoaded:function(){return angular.isDefined(n.google)&&angular.isDefined(n.google.maps)},uninstallScript:function(n){for(var t,r=document.getElementsByTagName("script"),i=r.length;i>=0;i--)t=r[i],t&&t.getAttribute("src")!=null&&t.getAttribute("src").indexOf(n)!=-1&&t.parentNode.removeChild(t)},destroySubsystem:function(){t.searchesTimer!=null&&(clearInterval(t.searchesTimer),t.searchesTimer=null);t.deleteSearch();t.searches=[];t.checkSearch=0;t.uninstallFakeConsole();n.google.maps.event.clearInstanceListeners(n);n.google.maps.event.clearInstanceListeners(document);delete n.google;t.domain&&(t.uninstallScript(t.domain),t.domain=null);t.status=t.subsystemUninitiated;t.killswitch=!0;t.version=null;t.apiKey=null;t.coordinateSystem=null;t.forceHttps=!1;t.language=null},ticks:function(){return(new Date).getTime()},createSubsystem:function(r,u,f,e,o){n.terratypeGoogleMapsV3Callback=function(){(t.status==t.subsystemInit||t.status==t.subsystemReadGoogleJs)&&(t.status=t.subsystemCheckGoogleJs)};var s=t.ticks()+t.timeout,h=0,c=setInterval(function(){var a,v,y,l;t.ticks()>s?(clearInterval(c),n.terratype.event.broadcast(t.id+".killed"),t.destroySubsystem()):t.status==t.subsystemCompleted||t.status==t.subsystemUninitiated||t.status==t.subsystemInit?(clearInterval(c),r||(r="3"),t.version=r,t.forceHttps=f,a="",f&&(a="https:"),e==i&&(a="http:"),t.coordinateSystem=e,t.domain=a+(e==i?"//maps.google.cn/":"//maps.googleapis.com/"),t.status=t.subsystemInit,t.killswitch=!1,t.apiKey=u,v="",u&&(v="&key="+u),t.language=o,y="",o&&(y="&language="+o),s=t.ticks()+t.timeout,l=setInterval(function(){if(t.killswitch)clearInterval(l);else switch(t.status){case t.subsystemInit:LazyLoad.js(t.domain+"maps/api/js?v="+r+"&libraries=places&callback=terratypeGoogleMapsV3Callback"+v+y,function(){});s=t.ticks()+t.timeout;t.status=t.subsystemReadGoogleJs;break;case t.subsystemReadGoogleJs:t.ticks()>s&&(clearInterval(l),n.terratype.event.broadcast(t.id+".error"),t.destroySubsystem());break;case t.subsystemCheckGoogleJs:t.isGoogleMapsLoaded()?(t.installFakeConsole(),t.status=t.subsystemLoadedGoogleJs,n.terratype.event.broadcast(t.id+".refresh")):t.ticks()>s&&(clearInterval(l),n.terratype.event.broadcast(t.id+".error"),t.destroySubsystem());break;case t.subsystemLoadedGoogleJs:t.status=t.subsystemCooloff;s=t.ticks()+t.timeout;break;case t.subsystemCooloff:case t.subsystemCompleted:h=n.terratype.event.broadcastSingle(t.id+".refresh",h);h==null?(clearInterval(l),t.destroySubsystem()):t.status==t.subsystemCooloff&&t.ticks()>s&&(t.status=t.subsystemCompleted,t.uninstallFakeConsole())}},t.poll)):t.killswitch=!0},t.poll)},configIconUrl:function(t){return typeof t=="undefined"||t==null?"":t.indexOf("//")!=-1?t:(t.substring(0,1)!="/"&&(t="/"+t),n.location.protocol+"//"+n.location.hostname+(n.location.port?":"+n.location.port:"")+t)},getAnchorHorizontal:function(n,t){if(typeof n=="string")switch(n.charAt(0)){case"l":case"L":return 0;case"c":case"C":case"m":case"M":return t/2;case"r":case"R":return t-1}return Number(n)},getAnchorVertical:function(n,t){if(typeof n=="string")switch(n.charAt(0)){case"t":case"T":return 0;case"c":case"C":case"m":case"M":return t/2;case"b":case"B":return t-1}return Number(n)},icon:function(i){return i.url&&i.size.width&&i.size.height?{url:t.configIconUrl(i.url),scaledSize:new n.google.maps.Size(i.size.width,i.size.height),anchor:new n.google.maps.Point(t.getAnchorHorizontal(i.anchor.horizontal,i.size.width),t.getAnchorVertical(i.anchor.vertical,i.size.height)),shadow:i.shadowImage}:{url:"https://mt.google.com/vt/icon/name=icons/spotlight/spotlight-poi.png"}},mapTypeIds:function(n,t,i){var r=[];return n&&r.push("roadmap"),t&&r.push("satellite"),i&&r.push("terrain"),r.length==0&&r.push("roadmap"),r},style:function(n,t,i,r){function f(n,t,i){angular.forEach(n,function(n){if(!t&&n.featureType==t&&!i&&n.elementType==i){n.styles={visibility:"off"};return}});var r={};return t&&(r.featureType=t),i&&(r.elementType=i),r.stylers=[{visibility:"off"}],n.push(r),n}var u=[];switch(n){case"silver":u=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}];break;case"retro":u=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}];break;case"dark":u=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}];break;case"night":u=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}];break;case"desert":u=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2e5d4"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c5dac6"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",elementType:"all",stylers:[{lightness:20}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"}]},{featureType:"water",elementType:"all",stylers:[{color:"#acbcc9"}]}];break;case"blush":u=[{stylers:[{hue:"#dd0d0d"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}];break;case"unsaturatedbrowns":u=[{elementType:"geometry",stylers:[{hue:"#ff4400"},{saturation:-68},{lightness:-4},{gamma:.72}]},{featureType:"road",elementType:"labels.icon"},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{hue:"#0077ff"},{gamma:3.1}]},{featureType:"water",stylers:[{hue:"#00ccff"},{gamma:.44},{saturation:-33}]},{featureType:"poi.park",stylers:[{hue:"#44ff00"},{saturation:-23}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{hue:"#007fff"},{gamma:.77},{saturation:65},{lightness:99}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{gamma:.11},{weight:5.6},{saturation:99},{hue:"#0091ff"},{lightness:-86}]},{featureType:"transit.line",elementType:"geometry",stylers:[{lightness:-48},{hue:"#ff5e00"},{gamma:1.2},{saturation:-23}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{saturation:-64},{hue:"#ff9100"},{lightness:16},{gamma:.47},{weight:2.7}]}];break;case"lightdream":u=[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.4},{lightness:37.6},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.6},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.2},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.2},{lightness:2.4},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.1},{lightness:11.2},{gamma:1}]}];break;case"paledawn":u=[{featureType:"administrative",elementType:"all",stylers:[{lightness:33}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2e5d4"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c5dac6"}]},{featureType:"poi.park",elementType:"labels",stylers:[{lightness:20}]},{featureType:"road",elementType:"all",stylers:[{lightness:20}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"}]},{featureType:"water",elementType:"all",stylers:[{color:"#acbcc9"}]}];break;case"crisp":u=[{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"},{hue:"#ff0000"}]}];break;case"mapbox":u=[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#b8cb93"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]}];break;case"shiftworker":u=[{stylers:[{saturation:-100},{gamma:1}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"water",stylers:[{visibility:"on"},{saturation:50},{gamma:0},{hue:"#50a5d1"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#333333"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{weight:.5},{color:"#333333"}]},{featureType:"transit.station",elementType:"labels.icon",stylers:[{gamma:1},{saturation:50}]}];break;case"mutedblue":u=[{featureType:"all",stylers:[{saturation:0},{hue:"#e7ecf0"}]},{featureType:"road",stylers:[{saturation:-70}]},{featureType:"water",stylers:[{visibility:"simplified"},{saturation:-60}]}];break;case"avocado":u=[{featureType:"water",elementType:"geometry",stylers:[{color:"#aee2e0"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#abce83"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#769E72"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#7B8758"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#EBF4A4"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#8dab68"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#5B5B3F"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ABCE83"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#A4C67D"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#9BBF72"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#EBF4A4"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#87ae79"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#7f2200"},{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:4.1}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#495421"}]},];break;case"colbalt":u=[{featureType:"all",elementType:"all",stylers:[{invert_lightness:!0},{saturation:10},{lightness:30},{gamma:.5},{hue:"#435158"}]}];break;case"ice":u=[{stylers:[{hue:"#2c3e50"},{saturation:250}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:50},{visibility:"simplified"}]},];break;case"brightandbubbly":u=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-20}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"road.highway",elementType:"labels.icon"},{featureType:"landscape",stylers:[{lightness:20},{color:"#efe9e4"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{hue:"#11ff00"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"poi",elementType:"labels.icon",stylers:[{hue:"#4cff00"},{saturation:58}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-10}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"simplified"}]}];break;case"hopper":u=[{featureType:"water",elementType:"geometry",stylers:[{hue:"#165c64"},{saturation:34},{lightness:-69}]},{featureType:"landscape",elementType:"geometry",stylers:[{hue:"#b7caaa"},{saturation:-14},{lightness:-18}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{hue:"#cbdac1"},{saturation:-6},{lightness:-9}]},{featureType:"road",elementType:"geometry",stylers:[{hue:"#8d9b83"},{saturation:-89},{lightness:-12}]},{featureType:"road.highway",elementType:"geometry",stylers:[{hue:"#d4dad0"},{saturation:-88},{lightness:54}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{hue:"#bdc5b6"},{saturation:-89},{lightness:-3}]},{featureType:"road.local",elementType:"geometry",stylers:[{hue:"#bdc5b6"},{saturation:-89},{lightness:-26}]},{featureType:"poi",elementType:"geometry",stylers:[{hue:"#c17118"},{saturation:61},{lightness:-45}]},{featureType:"poi.park",elementType:"all",stylers:[{hue:"#8ba975"},{saturation:-46},{lightness:-28}]},{featureType:"transit",elementType:"geometry",stylers:[{hue:"#a43218"},{saturation:74},{lightness:-51}]},{featureType:"administrative.province",elementType:"all",stylers:[{hue:"#ffffff"},{saturation:0},{lightness:100}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{hue:"#ffffff"},{saturation:0},{lightness:100}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{color:"#b7caaa"},{weight:.1}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{hue:"#ffffff"},{saturation:0},{lightness:100}]},{featureType:"administrative",elementType:"all",stylers:[{hue:"#3a3935"},{saturation:5},{lightness:-57}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{hue:"#cba923"},{saturation:50},{lightness:-46}]}];break;case"lost":u=[{elementType:"labels",stylers:[{color:"#52270b"},{weight:.1}]},{featureType:"landscape",stylers:[{color:"#f9ddc5"},{lightness:-7}]},{featureType:"road",stylers:[{color:"#813033"},{lightness:43}]},{featureType:"poi.business",stylers:[{color:"#645c20"},{lightness:38}]},{featureType:"water",stylers:[{color:"#1994bf"},{saturation:-69},{gamma:.99},{lightness:43}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#f19f53"},{weight:1.3},{lightness:16}]},{featureType:"poi.business"},{featureType:"poi.park",stylers:[{color:"#645c20"},{lightness:39}]},{featureType:"poi.school",stylers:[{color:"#a95521"},{lightness:35}]},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#813033"},{lightness:38}]},{featureType:"poi.sports_complex",stylers:[{color:"#9e5916"},{lightness:32}]},{featureType:"poi.government",stylers:[{color:"#9e5916"},{lightness:46}]},{featureType:"transit.line",stylers:[{color:"#813033"},{lightness:22}]},{featureType:"transit",stylers:[{lightness:38}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#f19f53"},{lightness:-10}]}];break;case"redalert":u=[{featureType:"water",elementType:"geometry",stylers:[{color:"#ffdfa6"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#b52127"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#c5531b"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#74001b"},{lightness:-10}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#da3c3c"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#74001b"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#da3c3c"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#990c19"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{elementType:"labels.text.stroke",stylers:[{color:"#74001b"},{lightness:-8}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#6a0d10"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#ffdfa6"},{weight:.4}]},];break;case"olddrymud":u=[{featureType:"landscape",stylers:[{hue:"#FFAD00"},{saturation:50.2},{lightness:-34.8},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFAD00"},{saturation:-19.8},{lightness:-1.8},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FFAD00"},{saturation:72.4},{lightness:-32.6},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FFAD00"},{saturation:74.4},{lightness:-18},{gamma:1}]},{featureType:"water",stylers:[{hue:"#00FFA6"},{saturation:-63.2},{lightness:38},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#FFC300"},{saturation:54.2},{lightness:-14.4},{gamma:1}]}];break;case"flat":u=[{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#747474"},{lightness:"23"}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{color:"#f38eb0"}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{color:"#ced7db"}]},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#ffa5a8"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#c7e5c8"}]},{featureType:"poi.place_of_worship",elementType:"geometry.fill",stylers:[{color:"#d6cbc7"}]},{featureType:"poi.school",elementType:"geometry.fill",stylers:[{color:"#c4c9e8"}]},{featureType:"poi.sports_complex",elementType:"geometry.fill",stylers:[{color:"#b1eaf1"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:"100"}]},{featureType:"road",elementType:"labels",stylers:[{lightness:"100"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffd4a5"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffe9d2"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{weight:"3.00"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{weight:"0.30"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#747474"},{lightness:"36"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{color:"#e9e5dc"},{lightness:"30"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{lightness:"100"}]},{featureType:"water",elementType:"all",stylers:[{color:"#d2e7f7"}]}];break;case"hotel":u=[{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{lightness:"-5"}]},{featureType:"landscape.man_made",elementType:"labels.text.fill",stylers:[{saturation:"21"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{saturation:"1"},{color:"#eae2d3"},{lightness:"20"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{saturation:"39"},{lightness:"7"},{gamma:"1.06"},{hue:"#00b8ff"},{weight:"1.44"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{lightness:"100"},{weight:"1.16"},{color:"#e0e0e0"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{saturation:"-16"},{lightness:"28"},{gamma:"0.87"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{saturation:"-75"},{lightness:"-15"},{gamma:"1.35"},{weight:"1.45"},{hue:"#00dcff"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#626262"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{saturation:"19"},{weight:"1.84"}]}];break;case"discreet":u=[{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"},{color:"#716464"},{weight:"0.01"}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"landscape.natural.landcover",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{visibility:"simplified"}]},{featureType:"poi.attraction",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"simplified"},{color:"#a05519"},{saturation:"-13"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"simplified"},{color:"#84afa3"},{lightness:52}]},{featureType:"water",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"on"}]}];break;case"pastel":u=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:60}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{visibility:"on"},{lightness:30}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ef8c25"},{lightness:40}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#b6c54c"},{lightness:40},{saturation:-40}]}];break;case"spots":u=[{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry",stylers:[{hue:"#f49935"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{hue:"#fad959"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{hue:"#a1cdfc"},{saturation:30},{lightness:49}]}];break;case"turistic":u=[{featureType:"all",elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#838265"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{color:"#47402d"}]},{featureType:"transit.line",elementType:"all",stylers:[{color:"#47402d"},{visibility:"on"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#624f1a"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"},{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}];break;case"orange":u=[{featureType:"administrative",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.neighborhood",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"administrative.neighborhood",elementType:"geometry.stroke",stylers:[{visibility:"on"},{weight:"1.99"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"on"},{color:"#f35c19"},{weight:"0.01"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"on"},{lightness:"0"},{saturation:"0"},{color:"#ffddc1"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"labels.text",stylers:[{weight:"0.64"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{weight:"1"},{lightness:"63"},{color:"#fff5f0"}]},{featureType:"poi",elementType:"labels",stylers:[{color:"#ffad00"},{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#ffc3a0"},{lightness:"1"},{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fd7539"},{weight:"0.62"},{lightness:"53"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:"#4e5757"},{weight:"0.01"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{weight:"0.01"},{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{visibility:"on"},{weight:"0.01"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#c6e3ec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{visibility:"on"},{color:"#cde1f0"},{lightness:"-3"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{weight:"0.25"},{color:"#888d8d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{weight:"0.80"}]}]}return t||(u=f(u,"road","all")),i||(u=f(u,"administrative","geometry"),u=f(u,"poi"),u=f(u,"transit")),r||(u=f(u,null,"labels"),u=f(u,"administrative"),u=f(u,"administrative.land_parcel"),u=f(u,"administrative.neighborhood")),u},searchCountries:function(n){return!n||!(n instanceof Array)||n.length==0?null:n.length==1?n[0]:n},round:function(n,t){var r=n>=0?1:-1,i=Math.pow(10,t);return parseFloat((Math.round(n*i+r*.001)/i).toFixed(t))},searches:[],searchesTimer:null,checkSearch:0,createSearch:function(i,r,u,f,e,o){t.searches.push({status:0,id:i,source:r,destination:u,options:f,done:o});t.searchesTimer==null&&(t.searchesTimer=setInterval(function(){var s,o,f,r,u;if(t.checkSearch==0){if(t.checkSearch=1,n.google.maps.places){s=new n.google.maps.places.PlacesService(e);s.textSearch({query:"paris, france"},function(i,r){n.google&&(t.checkSearch=r=="OK"?2:-1)});return}t.checkSearch=-1}else if(t.checkSearch==1)return;for(o=!0,f=0;f!=t.searches.length;f++){if(r=t.searches[f],r.status==0){if(t.checkSearch==-1){r.status=3;r.done(null);return}r.autocomplete=new n.google.maps.places.Autocomplete(r.source,r.options);r.status=1;return}if(r.status==1){for(u=document.body.childNodes,p=0;p!=u.length;p++)if(u[p].nodeType==1&&u[p].className&&u[p].className.indexOf("pac-container")!=-1&&!u[p].hasAttribute("data-terratype-id")){u[p].className+=" terratype_"+i+"_googlemapv3_lookup_results";u[p].setAttribute("data-terratype-id",r.id);r.destination.appendChild(u[p]);r.status=2;r.done(r.autocomplete);return}o=!1}}o&&(clearInterval(t.searchesTimer),t.searchesTimer=null)},t.poll))},deleteSearch:function(){},mergeJson:function(n,t){var i=function(n){var r={};for(var t in n)r[t]=typeof n[t]=="object"&&n[t].constructor.name!=="Array"?i(n[t]):n[t];return r},r=function(n,t){var f=n?i(n):{},u;if(t)for(u in t)f[u]=f[u]&&typeof f[u]=="object"&&f[u].constructor.name!=="Array"?r(f[u],t[u]):t[u];return f};return r(n,t)}},r={datumWait:330,css:[],js:[],boot:function(i,u,f,e,o,s,h,c){var l={events:[],datumChangeWait:null,defaultConfig:{position:{datum:"55.4063207,10.3870147"},zoom:12,provider:{id:t.id,version:3,forceHttps:!0,language:"",predefineStyling:"retro",showRoads:!0,showLandmarks:!0,showLabels:!0,variety:{basic:!0,satellite:!1,terrain:!1,selector:{type:1,position:0}},streetView:{enable:!1,position:0},fullscreen:{enable:!1,position:0},scale:{enable:!1,position:0},zoomControl:{enable:!0,position:0},panControl:{enable:!1},draggable:!0},search:{enable:0,limit:{countries:[]}}},initValues:function(){f().position.datum||(f().position.datum=l.defaultConfig.position.datum);o().position.datum=l.parse.call(l,f().position.datum);f().zoom||(f().zoom=l.defaultConfig.zoom);e().provider=t.mergeJson(l.defaultConfig.provider,e().provider);e().search=t.mergeJson(l.defaultConfig.search,e().search)},init:function(n){f().position&&typeof f().position.datum=="string"&&(o().position.datum=l.parse.call(l,f().position.datum));o().isPreview==!1&&e().provider&&e().provider.version&&f().position&&f().position.id&&o().position.precision&&l.loadMap.call(l);n({httpCalls:{apiKey:{when:"config.provider.id="+t.id,field:"config.provider.apiKey",values:[]}},files:{logo:u(t.id,"images/Logo.png"),mapExample:u(t.id,"images/Example.png"),views:{config:{definition:u(t.id,"views/config.definition.html",!0),appearance:u(t.id,"views/config.appearance.html",!0),search:u(t.id,"views/config.search.html",!0)},editor:{appearance:u(t.id,"views/editor.appearance.html",!0)},grid:{appearance:u(t.id,"views/grid.appearance.html",!0)}}},setProvider:function(){o().provider.id!=t.id&&l.destroy()},setCoordinateSystem:function(){f().position&&f().position.id!=t.coordinateSystem&&l.reloadMap.call(l)},setIcon:function(){l.gmarker&&l.gmarker.setIcon(t.icon.call(t,e().icon))},forceHttpsChange:function(){e().provider.forceHttps!==t.forceHttps&&l.reloadMap.call(l)},languageChange:function(){e().provider.language!==t.language&&l.reloadMap.call(l)},versionChange:function(){e().provider.version!==t.version&&l.reloadMap.call(l)},styleChange:function(){e().provider.styles=t.style.call(t,e().provider.predefineStyling,e().provider.showRoads,e().provider.showLandmarks,e().provider.showLabels);l.gmap&&l.gmap.setOptions({styles:e().provider.styles})},datumChange:function(n){o().datumChangeText=n;l.datumChangeWait&&clearTimeout(l.datumChangeWait);l.datumChangeWait=setTimeout(function(){l.datumChangeWait=null;var n=l.parse.call(l,o().datumChangeText);if(typeof n!="boolean"){o().position.datum=n;l.setDatum.call(l);l.setMarker.call(l);return}o().position.datumStyle={color:"red"}},r.datumWait)},optionChange:function(){if(l.gmap){var n=t.mapTypeIds.call(t,e().provider.variety.basic,e().provider.variety.satellite,e().provider.variety.terrain);l.gmap.setOptions({mapTypeId:n[0],mapTypeControl:n.length>1,mapTypeControlOptions:{style:e().provider.variety.selector.type,mapTypeIds:n,position:e().provider.variety.selector.position},fullScreenControl:e().provider.fullscreen.enable,fullscreenControlOptions:e().provider.fullscreen.position,scaleControl:e().provider.scale.enable,scaleControlOptions:{position:e().provider.scale.position},streetViewControl:e().provider.streetView.enable,streetViewControlOptions:{position:e().provider.streetView.position},zoomControl:e().provider.zoomControl.enable,zoomControlOptions:{position:e().provider.zoomControl.position}})}},searchChange:function(){typeof e().search.enable=="string"&&(e().search.enable=parseInt(e().search.enable));e().search.enable!=0?l.gautocomplete?(l.deleteSearch.call(l),setTimeout(function(){l.createSearch.call(l)},1)):l.createSearch.call(l):l.deleteSearch.call(l)},searchCountryChange:function(){l.gautocomplete&&l.gautocomplete.setComponentRestrictions({country:t.searchCountries(e().search.limit.countries)})},reload:function(){l.reloadMap.call(l)},addEvent:function(n,t,i){l.events.push({id:n,func:t,scope:i})},labelChange:l.labelChange,destroy:l.destroy})},labelChange:function(){l.gmap&&(l.ginfo&&(delete l.ginfo,l.ginfo=null),f().label&&typeof f().label.content=="string"&&f().label.content.trim()!=""&&(l.ginfo=new n.google.maps.InfoWindow({content:f().label.content})))},destroy:function(){n.terratype.event.cancel(i);l.loadMapWait&&(clearTimeout(l.loadMapWait),l.loadMapWait=null);l.superWaiter&&(clearInterval(l.superWaiter),l.superWaiter=null);n.google&&n.google.maps&&n.google.maps.event&&angular.forEach(l.gevents,function(t){n.google.maps.event.removeListener(t)});delete l.gevents;delete l.gmap;delete l.gmarker;l.deleteSearch.call(l)},reloadMap:function(){if(l.destroy(),l.div)var t=document.getElementById(l.div),n=100,i=setInterval(function(){--n<0&&(clearInterval(i),l.loadMap.call(l));try{var r=t.firstChild;r?t.removeChild(r):n=0}catch(u){n=0}},1);else l.loadMap.call(l)},parse:function(n){var r,t,i;return typeof n!="string"?!1:(r=n.trim().split(","),r.length<2)?!1:(t=parseFloat(r[0].substring(0,10)),isNaN(t)||t>90||t<-90)?!1:(i=parseFloat(r[1].substring(0,10)),isNaN(i)||i>180||i<-180)?!1:{latitude:t,longitude:i}},isElementInViewport:function(n){var t=n.getBoundingClientRect();return t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.top+t.height>=0&&t.left<=(window.innerWidth||document.documentElement.clientWidth)&&t.left+t.width>=0},toString:function(n,t){function i(n){return Number(n).toFixed(t).replace(/\.?0+$/,"")}return i(n.latitude)+","+i(n.longitude)},setDatum:function(){var n=l.toString.call(l,o().position.datum,o().position.precision);typeof n!="boolean"?(f().position.datum=n,o().position.datumText=n,o().position.datumStyle={}):o().position.datumStyle={color:"red"}},setMarker:function(n){if(l.gmap&&l.gmarker){var t={lat:o().position.datum.latitude,lng:o().position.datum.longitude};l.gmarker.setPosition(t);n?l.gmap.setCenter(t):l.gmap.panTo(t)}},loadMapWait:null,div:null,divoldsize:0,visible:!1,divwait:0,superWaiter:null,loadMap:function(){l.loadMapWait==null&&(l.loadMapWait=setTimeout(function(){l.initValues();l.loadMapWait=null;o().status={loading:!0,reload:!0};o().showMap=!1;l.gmap=null;l.gmarker=null;l.gautocomplete=null;l.gevents=[];l.div=null;l.divoldsize=0;l.divwait=t.timeout/t.poll;n.terratype.event.register(i,t.id+".error",l,this,function(){o().status={failed:!0,reload:!0};n.terratype.event.cancel(i);clearInterval(l.superWaiter);l.superWaiter=null;s()});n.terratype.event.register(i,t.id+".killed",l,this,function(){o().status={reload:!0};n.terratype.event.cancel(i);clearInterval(l.superWaiter);l.superWaiter=null;s()});n.terratype.event.register(i,t.id+".refresh",l,this,function(){var r,h,u;if(n.google)if(l.div==null){if(o().status={success:!0,reload:!0},o().provider.version=String(n.google.maps.version),o().provider.versionMajor=parseInt(String(n.google.maps.version).substring(2,4)),typeof e().search.enable=="string"&&(e().search.enable=parseInt(e().search.enable)),t.apiKey!=e().provider.apiKey||t.coordinateSystem!=f().position.id||t.forceHttps!=e().provider.forceHttps||t.language!=e().provider.language){o().status={duplicate:!0,reload:!0};n.terratype.event.cancel(i);s();return}l.ignoreEvents=0;l.div="terratype_"+i+"_googlemapv3_map";o().showMap=!0;s()}else if(r=document.getElementById(l.div),r==null)l.gmap==null&&l.divwait!=0?l.divwait--:l.destroy.call(l);else if(l.gmap==null)l.gevents=[],h={lat:o().position.datum.latitude,lng:o().position.datum.longitude},u=t.mapTypeIds.call(t,e().provider.variety.basic,e().provider.variety.satellite,e().provider.variety.terrain),e().provider.styles=t.style.call(t,e().provider.predefineStyling,e().provider.showRoads,e().provider.showLandmarks,e().provider.showLabels),l.gmap=new n.google.maps.Map(r,{disableDefaultUI:!1,scrollwheel:!1,panControl:!1,center:h,zoom:f().zoom,draggable:e().draggable,fullScreenControl:e().provider.fullscreen.enable,fullscreenControlOptions:e().provider.fullscreen.position,styles:e().provider.styles,mapTypeId:u[0],mapTypeControl:u.length>1,mapTypeControlOptions:{style:e().provider.variety.selector.type,mapTypeIds:u,position:e().provider.variety.selector.position},scaleControl:e().provider.scale.enable,scaleControlOptions:{position:e().provider.scale.position},streetViewControl:e().provider.streetView.enable,streetViewControlOptions:{position:e().provider.streetView.position},zoomControl:e().provider.zoomControl.enable,zoomControlOptions:{position:e().provider.zoomControl.position}}),l.gevents.push(n.google.maps.event.addListener(l.gmap,"zoom_changed",function(){l.eventZoom.call(l)})),n.google.maps.event.addListenerOnce(l.gmap,"tilesloaded",function(){l.eventRefresh.call(l)}),l.gevents.push(n.google.maps.event.addListener(l.gmap,"resize",function(){l.eventCheckRefresh.call(l)})),l.gmarker=new n.google.maps.Marker({map:l.gmap,position:h,id:"terratype_"+i+"_marker",draggable:!0,icon:t.icon.call(t,e().icon)}),l.ginfo=null,f().label&&typeof f().label.content=="string"&&f().label.content.trim()!=""&&(l.ginfo=new n.google.maps.InfoWindow({content:f().label.content})),l.gevents.push(l.gmarker.addListener("click",function(){l.ignoreEvents>0||l.callEvent("icon-click")&&l.ginfo&&l.ginfo.open(l.gmap,l.gmarker)})),l.gevents.push(n.google.maps.event.addListener(l.gmap,"click",function(){l.ignoreEvents>0||(l.ginfo&&l.ginfo.close(),l.callEvent("map-click"))})),l.gevents.push(n.google.maps.event.addListener(l.gmarker,"dragend",function(n){l.eventDrag.call(l,n)})),e().search.enable!=0&&l.createSearch.call(l),l.setDatum.call(l),s();else{var y=r.parentElement.offsetTop+r.parentElement.offsetWidth,c=r.clientHeight*r.clientWidth,a=o().showMap,v=a&&l.isElementInViewport(r);y!=0&&a==!1?(o().showMap=!0,s(),setTimeout(function(){document.getElementById(l.div).hasChildNodes()==!1?l.reloadMap.call(l):l.eventRefresh.call(l)},1)):y==0&&a==!0?(o().showMap=!1,l.visible=!1):v==!0&&l.divoldsize!=0&&c!=0&&l.divoldsize!=c?(l.eventRefresh.call(l),l.visible=!0):v==!0&&l.visible==!1?(l.eventRefresh.call(l),l.visible=!0):v==!1&&l.visible==!0&&(l.visible=!1);l.divoldsize=c}else l.reloadMap.call(l)});t.status==t.subsystemUninitiated&&t.createSubsystem(e().provider.version,e().provider.apiKey,e().provider.forceHttps,f().position.id,e().provider.language);count=0;l.superWaiter=setInterval(function(){function n(){count>5&&(o().status={error:!0,reload:!0},clearInterval(l.superWaiter),l.superWaiter=null,s());t.createSubsystem(e().provider.version,e().provider.apiKey,e().provider.forceHttps,f().position.id,e().provider.language);count++}t.status!=t.subsystemCooloff&&t.status!=t.subsystemCompleted?n():l.div==null||l.gmap==null||document.getElementById(l.div)==null||document.getElementById(l.div).hasChildNodes()==!1?(t.destroySubsystem(),setTimeout(n,1)):(o().status={success:!0},clearInterval(l.superWaiter),l.superWaiter=null,s())},t.timeout)},t.poll))},eventZoom:function(){l.ignoreEvents>0||(f().zoom=l.gmap.getZoom())},eventRefresh:function(){l.gmap==null||l.ignoreEvents>0||(l.ignoreEvents++,l.gmap.setZoom(f().zoom),l.setMarker.call(l,!0),n.google.maps.event.trigger(l.gmap,"resize"),l.ignoreEvents--)},eventCheckRefresh:function(){l.gmap.getBounds()&&!l.gmap.getBounds().contains(l.gmarker.getPosition())&&l.eventRefresh.call(l)},eventDrag:function(n){l.ignoreEvents>0||(l.ignoreEvents++,o().position.datum={latitude:t.round(n.latLng.lat(),o().position.precision),longitude:t.round(n.latLng.lng(),o().position.precision)},l.setMarker.call(l),l.setDatum.call(l),s(),l.ignoreEvents--)},eventLookup:function(n){l.ignoreEvents>0||!n.geometry||(l.ignoreEvents++,f().lookup=n.formatted_address,o().position.datum={latitude:t.round(n.geometry.location.lat(),o().position.precision),longitude:t.round(n.geometry.location.lng(),o().position.precision)},l.setMarker.call(l),l.setDatum.call(l),s(),l.ignoreEvents--)},searchListerners:[],createSearch:function(){var r=document.getElementById("terratype_"+i+"_googlemapv3_lookup"),u=document.getElementById("terratype_"+i+"_googlemapv3_lookup_results");r&&u&&t.createSearch(i,r,u,{autocomplete:e().search.enable==2},l.gmap,function(i){if(i==null)o().status.searchFailed=!0;else{l.gautocomplete=i;e().search&&e().search.limit&&e().search.limit.countries&&e().search.limit.countries.length!=0&&l.gautocomplete.setComponentRestrictions({country:t.searchCountries(e().search.limit.countries)});l.searchListerners.push(n.google.maps.event.addListener(l.gautocomplete,"place_changed",function(){l.eventLookup.call(l,l.gautocomplete.getPlace())}));l.searchListerners.push(n.google.maps.event.addListener(l.gautocomplete,"places_changed",function(){var n=l.gautocomplete.getPlaces();n&&n.length>0&&l.eventLookup.call(l,n[0])}));$(r).on("keypress keydown",function(t){if($(r).css("color",""),t.which==13){var i=new n.google.maps.places.PlacesService(l.gmap);return i.textSearch({query:r.value},function(n,t){n&&t=="OK"&&n.length>0?l.eventLookup.call(l,n[0]):$(r).css("color","#ff0000")}),t.preventDefault()}})}})},deleteSearch:function(){angular.forEach(l.searchListerners,function(t){n.google.maps.event.removeListener(t)});l.searchListerners=[];l.gautocomplete&&(n.google.maps.event.clearInstanceListeners(l.gautocomplete),l.gautocomplete=null);$("#terratype_"+i+"_googlemapv3_lookup").off("keypress keydown");t.deleteSearch(i)},callEvent:function(n){for(var t=0;t!=l.events.length;t++)l.events[t].id==n&&l.events[t].func.call(l.events[t].scope)}};l.init(c)}};n.terratype.providers[t.id]=r})(window);